"use strict";(self.webpackChunkwppconnect_team_github_io=self.webpackChunkwppconnect_team_github_io||[]).push([[9996],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return d}});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=a.createContext({}),l=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=l(e.components);return a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=l(n),d=o,h=m["".concat(p,".").concat(d)]||m[d]||u[d]||i;return n?a.createElement(h,r(r({ref:t},c),{},{components:n})):a.createElement(h,r({ref:t},c))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=m;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:o,r[1]=s;for(var l=2;l<i;l++)r[l]=n[l];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},68956:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return p},default:function(){return d},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return u}});var a=n(87462),o=n(63366),i=(n(67294),n(3905)),r=["components"],s={id:"index",title:"@wppconnect/wa-js",slug:"/api/wa-js/",sidebar_label:"Readme",sidebar_position:0,custom_edit_url:null},p="WPPConnect/WA-JS",l={unversionedId:"api/wa-js/index",id:"api/wa-js/index",title:"@wppconnect/wa-js",description:"npm version",source:"@site/docs/api/wa-js/index.md",sourceDirName:"api/wa-js",slug:"/api/wa-js/",permalink:"/docs/api/wa-js/",editUrl:null,tags:[],version:"current",sidebarPosition:0,frontMatter:{id:"index",title:"@wppconnect/wa-js",slug:"/api/wa-js/",sidebar_label:"Readme",sidebar_position:0,custom_edit_url:null},sidebar:"api",next:{title:"Exports (v2.0.0)",permalink:"/docs/api/wa-js/modules"}},c={},u=[{value:"Our online channels",id:"our-online-channels",level:2},{value:"How does it work",id:"how-does-it-work",level:2},{value:"Exported WhatsApp modules",id:"exported-whatsapp-modules",level:2},{value:"Development",id:"development",level:2},{value:"How to use this project",id:"how-to-use-this-project",level:2},{value:"TamperMonkey or GreaseMonkey",id:"tampermonkey-or-greasemonkey",level:3},{value:"Playwright",id:"playwright",level:3},{value:"License",id:"license",level:2}],m={toc:u};function d(e){var t=e.components,n=(0,o.Z)(e,r);return(0,i.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"wppconnectwa-js"},"WPPConnect/WA-JS"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@wppconnect/wa-js"},(0,i.kt)("img",{parentName:"a",src:"https://img.shields.io/npm/v/@wppconnect/wa-js.svg?color=green",alt:"npm version"})),"\n",(0,i.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@wppconnect/wa-js"},(0,i.kt)("img",{parentName:"a",src:"https://img.shields.io/npm/dm/@wppconnect/wa-js.svg",alt:"Downloads"})),"\n",(0,i.kt)("a",{parentName:"p",href:"https://isitmaintained.com/project/wppconnect/wa-js",title:"Average time to resolve an issue"},(0,i.kt)("img",{parentName:"a",src:"https://isitmaintained.com/badge/resolution/wppconnect-team/wa-js.svg",alt:"Average time to resolve an issue"})),"\n",(0,i.kt)("a",{parentName:"p",href:"https://isitmaintained.com/project/wppconnect/wa-js",title:"Percentage of issues still open"},(0,i.kt)("img",{parentName:"a",src:"https://isitmaintained.com/badge/open/wppconnect-team/wa-js.svg",alt:"Percentage of issues still open"}))),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/wppconnect-team/wa-js/actions/workflows/build.yml"},(0,i.kt)("img",{parentName:"a",src:"https://img.shields.io/github/workflow/status/wppconnect-team/wa-js/build.svg",alt:"Build Status"})),"\n",(0,i.kt)("a",{parentName:"p",href:"https://github.com/wppconnect-team/wa-js/actions/workflows/test.yml"},(0,i.kt)("img",{parentName:"a",src:"https://img.shields.io/github/workflow/status/wppconnect-team/wa-js/test.svg",alt:"Build Status"})),"\n",(0,i.kt)("a",{parentName:"p",href:"https://github.com/wppconnect-team/wa-js/actions/workflows/lint.yml"},(0,i.kt)("img",{parentName:"a",src:"https://img.shields.io/github/workflow/status/wppconnect-team/wa-js/lint.svg?label=lint",alt:"Lint Status"})),"\n",(0,i.kt)("a",{parentName:"p",href:"https://github.com/release-it/release-it"},(0,i.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/%F0%9F%93%A6%F0%9F%9A%80-release--it-e10079.svg",alt:"release-it"}))),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"WPPConnect/WA-JS is an open-source project with the aim of exporting functions from WhatsApp Web, which can be used to support the creation of any interaction, such as customer service, media sending, intelligence recognition based on phrases artificial and many other things, use your imagination...")),(0,i.kt)("h2",{id:"our-online-channels"},"Our online channels"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://discord.gg/JU5JGGKGNG"},(0,i.kt)("img",{parentName:"a",src:"https://img.shields.io/discord/844351092758413353?color=blueviolet&label=Discord&logo=discord&style=flat",alt:"Discord"})),"\n",(0,i.kt)("a",{parentName:"p",href:"https://t.me/wppconnect"},(0,i.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Telegram-Group-32AFED?logo=telegram",alt:"Telegram Group"})),"\n",(0,i.kt)("a",{parentName:"p",href:"https://chat.whatsapp.com/C1ChjyShl5cA7KvmtecF3L"},(0,i.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/WhatsApp-Group-25D366?logo=whatsapp",alt:"WhatsApp Group"})),"\n",(0,i.kt)("a",{parentName:"p",href:"https://www.youtube.com/c/wppconnect"},(0,i.kt)("img",{parentName:"a",src:"https://img.shields.io/youtube/channel/subscribers/UCD7J9LG08PmGQrF5IS7Yv9A?label=YouTube",alt:"YouTube"}))),(0,i.kt)("h2",{id:"how-does-it-work"},"How does it work"),(0,i.kt)("p",null,"This project extract some functions of WhatsApp sources, that uses webpack."),(0,i.kt)("p",null,"After build, this project generate a file ",(0,i.kt)("inlineCode",{parentName:"p"},"dist/wppconnect-wa.js")," to be used for injection in WhatsApp Web. When injected, it will explose a global variable named ",(0,i.kt)("inlineCode",{parentName:"p"},"WPP"),"."),(0,i.kt)("p",null,"Some parts of ",(0,i.kt)("inlineCode",{parentName:"p"},"WPP")," variable:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"WPP.webpack")," - Scripts to exports WhatsApp functions."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"WPP.whatsapp")," - Only exported WhatsApp functions."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"WPP.chat")," - Chat functions and events."),(0,i.kt)("li",{parentName:"ul"},"...")),(0,i.kt)("h2",{id:"exported-whatsapp-modules"},"Exported WhatsApp modules"),(0,i.kt)("p",null,"There are a convection name for some exported modules:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"...Model")," - Class for data structure (",(0,i.kt)("inlineCode",{parentName:"li"},"ClassModel"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"MsgModel"),")"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"...Collection")," - Class for collection of models (",(0,i.kt)("inlineCode",{parentName:"li"},"ChatCollection"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"MsgCollection"),")"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"...Store")," - Default and global instance of a collection (",(0,i.kt)("inlineCode",{parentName:"li"},"ChatStore"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"MsgStore"),")")),(0,i.kt)("h2",{id:"development"},"Development"),(0,i.kt)("p",null,"Steps to run locally:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# install the depencencies\nnpm install\n\n# download whatsapp javascript and prettify (optional)\nnpm run wa-source\n\n# build javascript files\nnpm run build:prd # or build:dev for development\n\n# lauch a local browser with automatic injection\nnpm run launch:local\n\n# or only run in VSCode\n")),(0,i.kt)("h2",{id:"how-to-use-this-project"},"How to use this project"),(0,i.kt)("p",null,"Basicaly, you need to inject the ",(0,i.kt)("inlineCode",{parentName:"p"},"wppconnect-wa.js")," file into the browser after WhatsApp page load."),(0,i.kt)("h3",{id:"tampermonkey-or-greasemonkey"},"TamperMonkey or GreaseMonkey"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// ==UserScript==\n// @name         WA-JS Teste\n// @namespace    http://tampermonkey.net/\n// @version      0.1\n// @description  Simple example of WA-JS\n// @author       You\n// @match        https://web.whatsapp.com/*\n// @icon         https://www.google.com/s2/favicons?domain=whatsapp.com\n// @require      https://github.com/wppconnect-team/wa-js/releases/download/nightly/wppconnect-wa.js\n// @grant        none\n// ==/UserScript==\n\n/* globals WPP */\n\n(function () {\n  'use strict';\n\n  WPP.webpack.onReady(function () {\n    alert('Ready to use WPPConnect WA-JS');\n  });\n\n  // Your code here...\n})();\n")),(0,i.kt)("h3",{id:"playwright"},"Playwright"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"import * as playwright from 'playwright-chromium';\n\nasync function start() {\n  const browser = await playwright.chromium.launch();\n  const page = browser.newPage();\n\n  await page.goto('https://web.whatsapp.com/');\n\n  await page.addScriptTag({\n    path: require.resolve('@wppconnect/wa-js'),\n  });\n\n  // Wait WA-JS load\n  await page.waitForFunction(() => window.WPP?.isReady);\n\n  // Evaluating code: See https://playwright.dev/docs/evaluating/\n  const isAuthenticated: string = await page.evaluate(() =>\n    WPP.auth.isAuthenticated()\n  );\n\n  // Sending message: See https://playwright.dev/docs/evaluating/\n  const sendResult: string = await page.evaluate(\n    (to, message) => WPP.chat.sendTextMessage(to, message),\n    to,\n    message\n  );\n}\n\nstart();\n")),(0,i.kt)("h2",{id:"license"},"License"),(0,i.kt)("p",null,"Copyright 2021 WPPConnect Team"),(0,i.kt)("p",null,'Licensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"http://www.apache.org/licenses/LICENSE-2.0\n")),(0,i.kt)("p",null,'Unless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.'))}d.isMDXComponent=!0}}]);